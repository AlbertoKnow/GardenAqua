/**
 * Estilos para CKEditor 5 en modo oscuro del Django Admin.
 * 
 * Corrige los colores del editor cuando el admin está en modo oscuro,
 * asegurando que el texto sea legible.
 * 
 * Django Admin usa html[data-theme="dark"] para indicar modo oscuro.
 * NO usamos @media (prefers-color-scheme: dark) para evitar conflictos
 * cuando el usuario elige tema claro manualmente.
 */

/* =========================================
   MODO OSCURO - Solo cuando Django Admin
   tiene data-theme="dark" en el HTML
   ========================================= */

/* Área editable del CKEditor */
html[data-theme="dark"] .ck.ck-editor__main > .ck-editor__editable,
html[data-theme="dark"] .ck.ck-editor__editable:not(.ck-editor__nested-editable) {
    background-color: #1e1e1e !important;
    color: #e0e0e0 !important;
}

/* Placeholder del editor */
html[data-theme="dark"] .ck.ck-editor__editable > .ck-placeholder::before,
html[data-theme="dark"] .ck.ck-placeholder::before {
    color: #888 !important;
}

/* Toolbar del editor */
html[data-theme="dark"] .ck.ck-toolbar {
    background-color: #2d2d2d !important;
    border-color: #444 !important;
}

html[data-theme="dark"] .ck.ck-toolbar__items button,
html[data-theme="dark"] .ck.ck-button {
    color: #e0e0e0 !important;
}

html[data-theme="dark"] .ck.ck-toolbar__items button:hover,
html[data-theme="dark"] .ck.ck-button:hover {
    background-color: #3d3d3d !important;
}

/* Borde del editor */
html[data-theme="dark"] .ck.ck-editor__editable.ck-focused {
    border-color: #0d6efd !important;
}

html[data-theme="dark"] .ck.ck-editor {
    border-color: #444 !important;
}

/* Dropdown menus */
html[data-theme="dark"] .ck.ck-dropdown__panel {
    background-color: #2d2d2d !important;
    border-color: #444 !important;
}

html[data-theme="dark"] .ck.ck-list__item .ck-button {
    color: #e0e0e0 !important;
}

html[data-theme="dark"] .ck.ck-list__item .ck-button:hover {
    background-color: #3d3d3d !important;
}

/* Input fields en dropdowns */
html[data-theme="dark"] .ck.ck-input {
    background-color: #1e1e1e !important;
    color: #e0e0e0 !important;
    border-color: #444 !important;
}

/* Labels en dropdowns */
html[data-theme="dark"] .ck.ck-labeled-field-view__label {
    color: #aaa !important;
}

/* Enlaces dentro del editor */
html[data-theme="dark"] .ck.ck-editor__editable a {
    color: #6db3f2 !important;
}

/* Tablas dentro del editor */
html[data-theme="dark"] .ck.ck-editor__editable table {
    border-color: #444 !important;
}

html[data-theme="dark"] .ck.ck-editor__editable th,
html[data-theme="dark"] .ck.ck-editor__editable td {
    border-color: #444 !important;
}

/* Iconos en la toolbar */
html[data-theme="dark"] .ck.ck-icon {
    color: #e0e0e0 !important;
}

/* Separadores en toolbar */
html[data-theme="dark"] .ck.ck-toolbar__separator {
    background-color: #444 !important;
}

/* Tooltips */
html[data-theme="dark"] .ck.ck-tooltip .ck-tooltip__text {
    background-color: #333 !important;
    color: #e0e0e0 !important;
}

/* Balloon panel (para links, etc) */
html[data-theme="dark"] .ck.ck-balloon-panel {
    background-color: #2d2d2d !important;
    border-color: #444 !important;
}

html[data-theme="dark"] .ck.ck-balloon-panel .ck-button {
    color: #e0e0e0 !important;
}
